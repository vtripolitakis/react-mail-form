(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{16:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return w}));var r=n(0),o=n.n(r),a=n(18),c=n.n(a),i=n(30),u=n.n(i),l=n(7),f=n(59);n(48);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n(52).polyfill();var O=Object(l.a)((function(){return n.e(6).then(n.bind(null,55))})),v=Object(l.a)((function(){return n.e(5).then(n.bind(null,56))})),g=Object(l.a)((function(){return n.e(4).then(n.bind(null,57))})),j=Object(l.a)((function(){return n.e(3).then(n.bind(null,58))})),w=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=y(e).call(this,t))||"object"!==s(o)&&"function"!=typeof o?m(r):o).state={dataLoaded:!1,formConfiguration:null},n.changeHandler=n.changeHandler.bind(m(n)),n.submitHandler=n.submitHandler.bind(m(n)),n}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){var t=this,e=this.props.formConfigurationURL;u.a.get(e).then((function(e){var n={};Object.keys(e.data.content).map((function(t){if(void 0!==e.data.content[t].default)n[t]=e.data.content[t].default;else switch(e.data.content[t].type){case"text":case"textarea":n[t]="";break;case"checkbox_array":n[t]=[];break;case"select":n[t]=""}return null})),t.setState((function(){return{content:n}})),t.setState((function(){return{dataLoaded:!0,formConfiguration:e.data}}))})).catch((function(){}))}},{key:"changeHandler",value:function(t,e,n){this.setState((function(r){var o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},r),a=o.content[t].indexOf(n);switch(e){case"text":case"textarea":case"select":o.content[t]=n;break;case"checkbox_array":a>-1?o.content[t].splice(a,1):o.content[t].push(n)}return o}))}},{key:"submitHandler",value:function(t){t.preventDefault(),t.stopPropagation();var e=this.state,n=e.formConfiguration,r=e.content,o=n.formID,a=n.endpoint;document.getElementById(o).reportValidity()?u.a.post(a,r,{headers:{"Content-Type":"application/json"}}).then((function(){Object(f.b)("Success")})).catch((function(){Object(f.b)("Failure")})):(document.querySelectorAll("#".concat(o," :invalid")).forEach((function(t){t.classList.add("invalidInputElement")})),window.setTimeout((function(){document.querySelectorAll("#".concat(o," :invalid")).forEach((function(t){t.classList.remove("invalidInputElement")}))}),1e3))}},{key:"render",value:function(){if(this.state.dataLoaded){var t=this.state,e=t.content,n=t.formConfiguration,r=n.formID,a=n.formTitle,c=n.footerText,i=n.content;return o.a.createElement("div",null,o.a.createElement(f.a,null),o.a.createElement(v,{formTitle:a}),o.a.createElement(O,{content:i,formState:e,formID:r,changeHandler:this.changeHandler}),o.a.createElement(j,{submitHandler:this.submitHandler}),o.a.createElement(g,{footerText:c}))}return o.a.createElement("div",null,"loading")}}])&&d(n.prototype,r),a&&d(n,a),e}(o.a.Component);w.propTypes={formConfigurationURL:c.a.string},w.defaultProps={formConfigurationURL:null}}}]);
//# sourceMappingURL=2.react-mail-form.js.map